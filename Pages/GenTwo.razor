@page "/gentwo"
@inject HttpClient httpClient
@using ServerSideProject.Data
@using Newtonsoft.Json


@if (allGen2 == null)
{
    <h1 class="text-center"> No Pokemon to display</h1>
}
else
{
    <table class="pokemon-table-spacing container-fluid">
            
        @for(int i = 0; i < allGen2.Count(); i += 3)
        {  
            <tr> 
                <td class="pokemon-List">
                    <img style = "width: 50%; padding: 0" src="@allGen2[i].SpriteURL" alt="@allGen2[i].Name">
                    <p style="float:right">
                        <h3>@allGen2[i].Name.ToUpper()</h3><br>
                        Grass/ Poison
                        @i
                    </p>
                </td>
                @if (i + 1 <= allGen2.Count() - 1)
                {
                    <td class="pokemon-List">
                        <img style="width: 50%; padding: 0" src="@allGen2[i+1].SpriteURL" alt="@allGen2[i+1].Name">
                        <p style="float:right">
                            <h3>@allGen2[i+1].Name.ToUpper()</h3><br>
                            Grass/ Poison
                            @i+1
                        </p>
                    </td>
                        @if(i + 2 <= allGen2.Count() - 1)
                        {
                            <td class="pokemon-List">
                                <img style="width: 50%; padding: 0" src="@allGen2[i+2].SpriteURL" alt="@allGen2[i+2].Name">
                                <p style="float:right">
                                    <h3>@allGen2[i+2].Name.ToUpper()</h3><br>
                                    Grass/ Poison
                                    @i+2
                                </p>
                            </td>
                        }
                }
            </tr>
        }
    </table>
}
    


@code {
    private Pokemon[]? allGen2;
    // string json = System.IO.File.ReadAllText("C:\\Users\\kyahh\\OneDrive\\Documents\\Server Side\\ServerSideProject\\Data\\gen1.json");
    string json = System.IO.File.ReadAllText("./Data/gen1.json");
    protected override async Task OnInitializedAsync()
    {
        allGen2 = Newtonsoft.Json.JsonConvert.DeserializeObject<Pokemon[]>(json);
    }
}

